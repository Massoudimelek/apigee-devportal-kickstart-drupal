{#
/**
 * @file
 * Template for Apigee Edge App in Collapsible card display mode.
 *
 * Available variables:
 * - entity: The Apigee Edge App entity.
 * - content: All app items. Use {{ content }} to print them all,
 * - attributes: HTML attributes for the containing element.
 *
 * @ingroup themeable
 */
#}
{% extends 'apigee-entity--app.html.twig' %}
{% block content %}
    {% set tab_suffix = entity.name|clean_class %}

    {% embed '@apigee-kickstart/card/collapsible-card.twig' with {
        utility_classes: classes,
        title: entity.label
    } %}

        {% block header %}
          <div class="d-flex items-center">
            {% if content.warnings %}
              <span class="badge badge-warning d-inline-flex align-items-center mr-2">
                <i class="fa fa-exclamation-circle d-inline-block mr-1"></i> {{ "Warnings"|t }}
              </span>
            {% endif %}
            {{ content.status }}
          </div>
        {% endblock %}

        {% block content %}

          {{ content.warnings }}

          {% if content.credentials %}
            <div class="tab-pane show active" id="credentials-{{ tab_suffix }}">
              <div class="card apigee-entity--app__details">
                <h4 class="card-header bg-white">
                  {{ "Details" }}
                </h4>
                <div class="card-body">
                  {{ content|without('status', 'credentials', 'warnings') }}
                </div>
              </div>

              <div class="card apigee-entity--app__credentials">
                <h4 class="card-header bg-white">
                  {{ "Credentials"|t }}
                </h4>
                <div class="card-body pb-0">
                  {{ content.credentials }}
                </div>
              </div>
            </div>
          {% endif %}
        {% endblock %}
    {% endembed %}
{% endblock %}

